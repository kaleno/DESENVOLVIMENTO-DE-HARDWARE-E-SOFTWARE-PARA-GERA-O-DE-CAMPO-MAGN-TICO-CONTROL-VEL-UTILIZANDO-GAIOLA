import numpy as np
import matplotlib.pyplot as plt
dados ='''-40	-124.30065180415122
-39	-121.08695311263257
-38	-117.85025836607622
-37	-114.67105375711411
-36	-111.41136295552005
-35	-108.1746682089637
-34	-104.96096951744502
-33	-101.71852575712924
-32	-98.4415879142569
-31	-95.2163911952194
-30	-91.91645729730936
-29	-88.63951945443704
-28	-85.42007174915895
-27	-82.22362009891857
-26	-79.13065069634783
-25	-76.07217537633365
-24	-72.96770794624408
-23	-69.8402444611168
-22	-66.78176914110261
-21	-63.65430565597534
-20	-60.538340198366896
-19	-57.45686882331503
-18	-54.34665237946602
-17	-51.20769086681989
-16	-48.10897245048973
-15	-44.970010937843604
-14	-41.83104942519747
-13	-38.73233100886731
-12	-35.59336949622118
-11	-32.448658969815625
-10	-29.36718759476375
-9	-26.20523002707991
-8	-23.060519500674356
-7	-19.938805029306504
-6	-16.78834548914152
-5	-13.643634962735964
-4	-10.533418518886958
-3	-7.382958978721976
-2	-4.2267504247975705
-1	-1.1050359534297143
0	2.0569216142541173
1	5.132643975546571
2	8.31184858450868
3	11.479555165951936
4	14.635763719876346
5	17.74598016372535
6	20.90793773140918
7	24.07564431285244
8	27.20310779797972
9	30.359316351904127
10	33.515524905828535
11	36.62574134967754
12	39.776200889842514
13	42.9266604300075
14	46.03687687385651
15	49.18733641402149
16	52.33204694042704
17	55.41926732923835
18	58.569726869403326
19	61.69719035453062
20	64.77291271582307
21	67.90612521470976
22	71.03358869983705
23	74.10356204737008
24	77.21952750497852
25	80.32974394882751
26	83.3882192688417
27	86.48118867141243
28	89.56840906022373
29	92.79935479302067
30	96.0532965808553
31	99.33023442372763
32	102.54393311524629
33	105.7921258893215
34	109.01157359459958
35	112.19652721732112
36	115.37573182628323
37	118.61817558659901
38	121.74563907172629
39	124.94209072196668
40	128.10979730340992'''
def regrebob(dados):
    D =[]
    for linha in dados.split("\n"):
        if linha == "":
            continue
        V = float(linha.split("\t")[0])
        B = float(linha.split("\t")[1])
        D += [[V,B]]
    M = np.array([[ 0.0    , 0.0    ],
                  [ 0.0    , 0.0    ]])    
    N = np.array([0.0,     0.0])
    for B in D:
        V = float(B[0])
        B = float(B[1])
        M += np.array([[ B**2   , B    ],
                       [ B      , 1.0  ]])
        
        N += np.array([B*V,  V])
    C = np.linalg.solve(M, N)
    Y =[]
    X =[]
    for B in D:
        Y +=[B[0]]
        X +=[B[1]]
    X = np.array(X)
    Y = np.array(Y)
    plt.plot(X,Y,'o')
    plt.plot(X,C[0]*X+C[1],'-')
    plt.xlabel('Campo magnético(uT)')
    plt.ylabel('Tensão(V)')
    plt.show()
    return str(C[0]) + "\t"+ str(C[1])
